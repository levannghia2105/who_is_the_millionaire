if (self.CavalryLogger) { CavalryLogger.start_js(["TUTxbbd"]); }

__d("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer$normalization.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer$normalization",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"ICometStorySection",abstractKey:"__isICometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_only_story",storageKey:null},{alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Translation",kind:"LinkedField",name:"translation",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_truncation_line_limit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]};e.exports=a}),null);
__d("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_only_story",storageKey:null},{alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Translation",kind:"LinkedField",name:"translation",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedMessageTextWithEntities_textWithEntities"}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_truncation_line_limit",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedTranslationMenuTrigger_story"}],storageKey:null}],type:"CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy",abstractKey:null};e.exports=a}),null);
__d("CometFeedTranslationMenuQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4306795722685636",metadata:{},name:"CometFeedTranslationMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometFeedTranslationMenuTrigger_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedTranslationMenuTrigger_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometFeedMessageQuote.react",["TetraText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={blockquote:{borderStartColor:"h2mp5456",borderStartStyle:"mk2mc5f4",borderStartWidth:"peup4ujy",marginEnd:"cxmmr5t8",marginStart:"hcukyx3x",marginBottom:"sej5wr8e",marginTop:"aahdfvyu",paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a"},withLeadingSpace:{marginStart:"dhix69tm"}};function a(a){var b=a.children,d=a.leadingSpace;d=d===void 0?!0:d;a=a.xstyle;return h.jsx("blockquote",{className:c("stylex")(i.blockquote,d&&i.withLeadingSpace,a),children:h.jsx(c("TetraText.react"),{type:"body3",children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedGearActionIcon.react",["ix","CometTintedIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={gearIcon:{verticalAlign:"sf5mxxl7"}};function a(a){return i.jsx(c("CometTintedIcon.react"),{color:"fds-blue-60",icon:d("fbicon")._(h("497565"),12),xstyle:j.gearIcon})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedTranslationActionButton.react",["CometPressable.react","CometTrackingNodeProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={linkHoverUnderline:{":hover":{textDecoration:"gpro0wi8"}}};function a(a,b){return h.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:225,children:h.jsx(c("CometPressable.react"),{"aria-label":a.label,display:"inline",onPress:a.onPress,overlayDisabled:!0,ref:b,xstyle:i.linkHoverUnderline,children:a.children})})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometFeedTranslationActions.react",["CometMiddot.react","CometTrackingNodeProvider.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.actionElements;var b=[];for(var d=0;d<a.length;d++){d!==0&&b.push(h.jsx(c("CometMiddot.react"),{},"middot-"+d));var e=a[d];b.push(e)}return h.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:225,children:h.jsx(c("TetraTextPairing.react"),{level:4,meta:b,metaColor:"highlight"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedTranslationMenu.entrypoint",["CometFeedTranslationMenuQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{menuQueryReference:{parameters:c("CometFeedTranslationMenuQuery$Parameters"),variables:{storyId:a.storyId}}}}},root:c("JSResourceForInteraction")("CometFeedTranslationMenu.react").__setRef("CometFeedTranslationMenu.entrypoint")};g["default"]=a}),98);
__d("CometFeedTranslationMenuTrigger.react",["CometEntryPointPopoverTrigger.react","CometFeedTranslationActionButton.react","CometFeedTranslationMenu.entrypoint","CometFeedTranslationMenuTrigger_story.graphql","CometRelay","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useCallback,k=e.useState;function a(a){var e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedTranslationMenuTrigger_story.graphql"),a.story);e=e.id;var f=k(0),g=f[0];f=f[1];var l=j(function(b,d){return i.jsx(c("CometFeedTranslationActionButton.react"),{label:a.label,onPress:d,ref:b,children:a.children})},[a.children,a.label]);return e==null?c("recoverableViolation")("Cannot render CometFeedTranslationMenuTrigger with a null story id","comet_feed"):i.jsx(c("CometEntryPointPopoverTrigger.react"),{entryPointParams:{storyId:e},otherProps:{translationRating:g,updateTranslationRating:f},popoverEntryPoint:c("CometFeedTranslationMenu.entrypoint"),children:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy.react",["fbt","CometFeedGearActionIcon.react","CometFeedMessageQuote.react","CometFeedMessageTextWithEntities.react","CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer.graphql","CometFeedTranslationActionButton.react","CometFeedTranslationActions.react","CometFeedTranslationMenuTrigger.react","CometFeedUnitQueryVariablesContext","CometRelay","TetraTextLangContext","TetraTextPairing.react","formatLanguageCode","react","unrecoverableViolation","useCometFeedStoryMatchDebugger","useGeminiSRTFeedStoryRenderLocationIsPageTimeline"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,l=e.useContext,m=e.useMemo,n=e.useState,o={textOnlyQuote:{marginBottom:"tvmbv18p"},textOnlyQuoteWithOriginal:{marginBottom:"tvmbv18p",marginTop:"tr9rh885"}};function a(a){var e,f=d("CometRelay").useFragment(i!==void 0?i:i=b("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer.graphql"),a.messageContainer),g=f.story;c("useCometFeedStoryMatchDebugger")(f);var p=g==null?void 0:(f=g.translation)==null?void 0:f.message;f=n(!1);var q=f[0],r=f[1],s=k(function(){r(function(a){return!a})},[]),t=l(c("CometFeedUnitQueryVariablesContext")),u=c("useGeminiSRTFeedStoryRenderLocationIsPageTimeline")();f=m(function(){if(p!=null&&g!=null){var a=[j.jsx(c("CometFeedTranslationMenuTrigger.react"),{label:h._("Translation preferences"),story:g,children:j.jsx(c("CometFeedGearActionIcon.react"),{})},"settings-gear"),j.jsx(c("CometFeedTranslationActionButton.react"),{onPress:s,children:q?h._("Hide Original"):h._("See original")},"toggle"),j.jsx(c("CometFeedTranslationMenuTrigger.react"),{story:g,children:h._("Rate this translation")},"rating-menu")],b=(g==null?void 0:g.is_text_only_story)===!0?q?o.textOnlyQuoteWithOriginal:o.textOnlyQuote:void 0;return j.jsxs(c("CometFeedMessageQuote.react"),{xstyle:b,children:[j.jsx(c("TetraTextPairing.react"),{body:j.jsx(c("CometFeedMessageTextWithEntities.react"),{maxLines:g==null?void 0:g.message_truncation_line_limit,textWithEntities:p,truncationStyle:(t==null?void 0:t.feedLocation)==="PERMALINK"||(t==null?void 0:t.feedLocation)==="PAGE_TIMELINE_PERMALINK"||(t==null?void 0:t.feedLocation)==="GROUP_PERMALINK"||u?"none":"see-more"}),level:3}),j.jsx(c("CometFeedTranslationActions.react"),{actionElements:a})]})}return null},[q,g,s,p]);if(g==null)throw c("unrecoverableViolation")("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy rendered without a story","comet_feed");if(p==null)throw c("unrecoverableViolation")("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy rendered without a translated message","comet_feed");var v=(e=g.translatability_for_viewer)==null?void 0:e.source_dialect;e=m(function(){return c("formatLanguageCode")(v)},[v]);return j.jsxs(j.Fragment,{children:[j.jsx(c("TetraTextLangContext").Provider,{value:e,children:q?a.children:null}),f]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);