if (self.CavalryLogger) { CavalryLogger.start_js(["CbYHl5g"]); }

__d("StoriesTrayTileView_LWRAnimations.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayTileView_LWRAnimations",selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileReactionIconWrapper_LWRAnimations"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("useCometTailLoadGlimmerTracker",["IntersectionObserver","cr:1703077","intersectionObserverEntryIsIntersecting","performanceNow","react"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useRef;function a(a,d,e){var f=j(null),g=j(-1),k=j(-1),l=j(0),m=j(!1),n=j(null),o=j(null);b("cr:1703077")&&a!=null&&b("cr:1703077").setTailLoadStartTime(a,e);i(function(){return function(){o.current&&o.current(),o.current=null}},[]);return h(function(e){if(a!=null&&b("cr:1703077")&&e&&(g.current!==d||f.current!==e)){f.current=e;o.current&&(o.current(),o.current=null);if(m.current){var h=n.current;h!=null&&(l.current+=c("performanceNow")()-h);n.current=c("performanceNow")();m.current=!1}g.current!==d&&(l.current>0&&(b("cr:1703077").reportInterruptedConsumption(a,g.current,l.current),k.current=g.current),g.current=d,l.current=0);h=function(a){Array.prototype.forEach.call(a,function(a){if(c("intersectionObserverEntryIsIntersecting")(a)&&!m.current)m.current=!0,n.current=a.time;else if(!c("intersectionObserverEntryIsIntersecting")(a)&&m.current){m.current=!1;var b=n.current;b!=null&&(l.current+=a.time-b)}})};var i=new(c("IntersectionObserver"))(h);i.observe(e);o.current=function(){i.disconnect()}}},[a,d])}g["default"]=a}),98);
__d("CometInfiniteScrollSuspenseList.react",["CometPagelet.react","CometPlaceholder.react","CometSuspendWhileWaitingOnDOM.react","CometSuspenseList.react","CometVisualCompletionAttributes","ExecutionEnvironment","cr:1142206","gkx","mergeRefs","performanceNow","react","stylex","useCometTailLoadGlimmerTracker","useLayoutEffect_SAFE_FOR_SSR","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.Children,j=e.startTransition,k=e.useCallback,l=e.useEffect,m=e.useMemo,n=e.useRef,o=e.useState,p={glimmerRoot:{overflowAnchor:"rek2kq2y"}};function q(a){var d=a.onLoadMore,e=a.rootMargin;a=a.triggerXStyle;var f=n(!1),g=k(function(){b("cr:1142206")!=null&&b("cr:1142206").log("[onVisible] fired",{alreadyTriggered:f.current});if(f.current)return;f.current=!0;d()},[d]);e=c("useVisibilityObserver")({onVisible:g,options:{rootMargin:(g=e)!=null?g:0}});return h.jsx("div",{className:c("stylex")(a),ref:e})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var e=a.children,f=a.endGlimmerRef,g=a.hasMore,r=a.isLoading,s=a.listGlimmer,t=a.onLoadMore,u=a.pageletName,v=a.positionLimitForSSR,w=a.revealOrder,x=a.rootMargin;a=a.triggerXStyle;var y=o(0),z=y[0],A=y[1],B=n(!1),C=n(null),D=n(0),E=g,F=k(function(){D.current=c("performanceNow")(),j(function(){A(function(a){return a+1}),t(C)})},[t,j,C]);l(function(){if(c("gkx")("1475760"))return;b("cr:1142206")!=null&&b("cr:1142206").log("[useEffect]","checking if we need to load more",{hasMore:g,isGlimmerVisible:B.current,isLoading:r});g&&!r&&B.current&&(b("cr:1142206")!=null&&b("cr:1142206").log("[useEffect]","Need to load more -- calling prioritizeOnLoadMore"),F())},[F,r,g,E]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){E||(B.current=!1)},[E]);y=k(function(){if(c("gkx")("1475760"))return;b("cr:1142206")!=null&&b("cr:1142206").log("[onVisible] fired",{wasVisible:B.current});var a=B.current;B.current=!0;b("cr:1142206")!=null&&b("cr:1142206").log("[onVisible]","checking if we need to load more",{hasMore:g,isLoading:r,wasVisible:a});!a&&g&&!r&&(b("cr:1142206")!=null&&b("cr:1142206").log("[onVisible]","calling prioritizedOnLoadMore"),F())},[g,r,F]);var G=k(function(){if(c("gkx")("1475760"))return;b("cr:1142206")!=null&&b("cr:1142206").log("[onHidden]","marking glimmer refs as hidden",{wasVisible:B.current});B.current=!1},[]),H=c("useVisibilityObserver")({onHidden:G,onVisible:y,options:{rootMargin:(G=x)!=null?G:0}}),I=0;y=i.map(e,function(a){var b=v!=null&&I>v,e=b?{pageletAriaProps:babelHelpers["extends"]({},c("CometVisualCompletionAttributes").IGNORE_LATE_MUTATION)}:null;return a?u!=null?h.jsx(d("CometPagelet.react").Placeholder,babelHelpers["extends"]({fallback:s,name:u},e,{position:I++,trackTailLoad:!0,children:b&&!d("ExecutionEnvironment").canUseDOM?h.jsx(c("CometSuspendWhileWaitingOnDOM.react"),{}):a})):h.jsx(c("CometPlaceholder.react"),{fallback:s,children:a}):null});G=o(!1);e=G[0];var J=G[1];l(function(){return J(!0)},[]);if(c("gkx")("1475760")&&(g&&!r&&e)){G=h.jsx(q,{onLoadMore:F,rootMargin:x,triggerXStyle:a},"tailTrigger"+z);w==="backwards"?y.unshift(G):y.push(G)}e=I;var K=c("useCometTailLoadGlimmerTracker")(u,e,D.current);x=m(function(){return c("mergeRefs")(f,C,K,H)},[f,K,H]);return h.jsxs(h.Fragment,{children:[E&&w==="backwards"?h.jsx("div",{ref:x,children:s},"glimmerBackwards"):null,h.jsx(c("CometSuspenseList.react"),{revealOrder:w||"forwards",tail:"hidden",children:y},"list"),h.jsx("div",{"data-testid":void 0}),E&&w!=="backwards"?h.jsx("div",{className:c("stylex")(c("gkx")("1386096")&&p.glimmerRoot),ref:x,children:s},"glimmer"):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometInfiniteScrollSuspenseListIncrementalRenderer.react",["CometInfiniteScrollSuspenseList.react","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.Children,j=b.useCallback,k=b.useMemo,l=b.useRef,m=b.useState,n=[1,2,2,2,4];function a(a){var b=a.children,d=a.hasMore,e=a.isLoading,f=a.onLoadMore,g=a.revealOrder;g=g===void 0?"forwards":g;var o=a.pageSizes,p=o===void 0?n:o;o=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasMore","isLoading","onLoadMore","revealOrder","pageSizes"]);a=m(p[0]);var q=a[0],r=a[1],s=l(1),t=i.count(b);a=q<t;if(g!=="forwards")throw c("unrecoverableViolation")('CometInfiniteScrollSuspenseListIncrementalRenderer currently only supports revealOrder="forwards"',"comet_feed");var u=j(function(a){s.current=Math.min(s.current,p.length-1);var b=p[s.current];q<t?(s.current++,r(q+b)):d&&!e&&(q===t&&(s.current++,r(q+b)),f(a))},[d,e,t,q,f,p]),v=k(function(){return i.toArray(b).slice(0,q)},[b,q]);return h.jsx(c("CometInfiniteScrollSuspenseList.react"),babelHelpers["extends"]({},o,{hasMore:d||a,isLoading:e&&!a,onLoadMore:u,revealOrder:g,children:v}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedInfiniteScrollSuspenseList.react",["CometEventListener","CometFeedGlimmer.react","CometFeedTailLoadBufferHeight","CometInfiniteScrollSuspenseList.react","CometInfiniteScrollSuspenseListIncrementalRenderer.react","CometInteractionSourceContext","FBLogger","QuickPerformanceLogger","WebConnectionClassServerGuess","gkx","react","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(a){var b=a.incrementalRendering;b=b===void 0?!0:b;var d=a.waitOnScrollIntent,e=a.children,f=a.hasMore,g=a.incrementalRenderingPageSizes,l=a.interactionSource,m=a.isLoading,n=a.onLoadMore,o=a.pageletName,p=a.positionLimitForSSR,q=a.revealOrder;c("gkx")("659")&&(b=!1,d=!1);a=k(!1);var r=a[0],s=a[1];i(function(){if(!r){var a=window.scrollY,b=c("CometEventListener").capture(window,"scroll",function(b){b.target===window.document&&window.scrollY!==a&&s(!0)});return function(){b.remove()}}},[r]);a=j(function(){return{onVisible:function(){c("QuickPerformanceLogger").markEvent(655653,"collision_happened",7,{annotations:{bool:{had_demonstrated_scroll_intent:r},"int":{interaction_source:l}}})}}},[l,r]);a=c("useVisibilityObserver")(a);var t=j(function(){var a;if(d===!0&&!r)return 0;var b;switch(c("WebConnectionClassServerGuess").connectionClass){case"UNKNOWN":case"EXCELLENT":default:b=c("CometFeedTailLoadBufferHeight").EXCELLENT;break;case"GOOD":b=c("CometFeedTailLoadBufferHeight").GOOD;break;case"MODERATE":b=c("CometFeedTailLoadBufferHeight").MODERATE;break;case"POOR":b=c("CometFeedTailLoadBufferHeight").POOR;break}b==null&&(c("FBLogger")("comet_feed").mustfix("Found no tail load buffer height value for the connection class `%s`. Falling back to 2500px.",c("WebConnectionClassServerGuess").connectionClass),b=2500);return a={},a[q==="backwards"?"top":"bottom"]=b,a},[q,r,d]);a={endGlimmerRef:a,hasMore:f,isLoading:m,listGlimmer:h.jsx(c("CometFeedGlimmer.react"),{}),onLoadMore:n,pageletName:o,positionLimitForSSR:p,revealOrder:q,rootMargin:t};if(b&&(q==null||q==="forwards"))return h.jsx(c("CometInteractionSourceContext").Provider,{value:l,children:h.jsx(c("CometInfiniteScrollSuspenseListIncrementalRenderer.react"),babelHelpers["extends"]({pageSizes:g},a,{children:e}))});else return h.jsx(c("CometInteractionSourceContext").Provider,{value:l,children:h.jsx(c("CometInfiniteScrollSuspenseList.react"),babelHelpers["extends"]({},a,{children:e}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTailLoadDebugger",[],(function(a,b,c,d,e,f){"use strict";var g=[];function a(){return g}function b(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];g.push([new Date().toLocaleString()].concat(b))}f.dump=a;f.log=b}),66);
__d("cometFeedUnitID",[],(function(a,b,c,d,e,f){"use strict";function a(a){return"CometFeedUnit_"+a}f["default"]=a}),66);
__d("useCometFeedKeyCommands",["CometFeedUnitDebugInfoState","FocusRegion.react","GHLAriaLabelTracker","cometFeedUnitID","cometGetKeyCommandConfig","react","scrollTo","useLayerKeyCommands"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useMemo,j=b.useState,k=60+16,l=function(a,b){return b.role==="article"};function m(a,b){c("GHLAriaLabelTracker").set();a=d("FocusRegion.react").focusRegionById(c("cometFeedUnitID")(a),l,!0);var e=document.documentElement;if(a!=null&&e!=null){e=a.getBoundingClientRect();e=e.top+window.pageYOffset-k-((a=b)!=null?a:0);c("scrollTo")({behavior:"smooth",top:e});return!0}return!1}function n(a,b){var c=document.activeElement;c!=null&&(c.blur(),window.requestAnimationFrame(function(){m(a,b)}))}function a(a,b,e){var f=j(-1),g=f[0],k=f[1],l=h(function(a){if(b==null)return g;var c=d("CometFeedUnitDebugInfoState").getStateSnapshot();c=c[b];if(c==null)return g;c=c.visibleUnits;if(c.some(function(a){return a.visible&&a.position===g}))return g;a=a==="forward"?c[0]:c[c.length-1];if((a==null?void 0:a.position)===0)return-1;else{return(c=a==null?void 0:a.position)!=null?c:-1}},[g,b]),o=h(function(){var b=l("forward");if(b<a-1){var c=b+1;m(c,e)&&k(c)}else n(b,e)},[l,a,e]),p=h(function(){var a=l("backward");if(a>0){var b=a-1;m(b,e)&&k(b)}else n(a,e)},[l,e]);f=i(function(){return[d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","scrollNext",o),d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","scrollPrevious",p)]},[o,p]);c("useLayerKeyCommands")(f);return g}g["default"]=a}),98);